@startuml
' main_diagram.puml - 主图：组装所有子图并补全跨模块关系
skinparam classAttributeIconSize 0
skinparam classFontSize 10
skinparam packageFontSize 12

' 包含所有子图
!include core.puml
!include data_readers.puml
!include data_processors.puml
!include analysis_process_mining.puml
!include analysis_rule_engine.puml
!include analysis_spc.puml
!include operators.puml
!include workflow_config_utils.puml
!include reporting_service.puml

' 补全跨模块依赖（原图中的依赖关系）
WorkflowBuilder --> DataReaderFactory
WorkflowBuilder --> DataProcessorFactory
WorkflowBuilder --> ProcessMiningFactory
WorkflowBuilder --> RuleEngineFactory
WorkflowBuilder --> SPCFactory
WorkflowBuilder --> ReportGenerator
WorkflowBuilder --> ReportWriterFactory
WorkflowExecutor --> WorkflowBuilder

@enduml